<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Geant4 Solids · Geant4.jl</title><meta name="title" content="Geant4 Solids · Geant4.jl"/><meta property="og:title" content="Geant4 Solids · Geant4.jl"/><meta property="twitter:title" content="Geant4 Solids · Geant4.jl"/><meta name="description" content="Documentation for Geant4.jl."/><meta property="og:description" content="Documentation for Geant4.jl."/><meta property="twitter:description" content="Documentation for Geant4.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Geant4.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Geant4.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../api/">Public API</a></li><li><span class="tocitem">Examples</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Basic</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../B1/">Basic/B1 Example</a></li><li><a class="tocitem" href="../B2a/">Basic/B2a Example</a></li><li><a class="tocitem" href="../B2aVis/">Basic/B2a Event Display Example</a></li><li><a class="tocitem" href="../B3a/">Basic/B3a Example</a></li><li><a class="tocitem" href="../B4a/">Basic/B4a Example</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox" checked/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Extended</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../GPS/">Extended/GPS Example</a></li><li><a class="tocitem" href="../RE03/">Extended/RE03 Example</a></li><li><a class="tocitem" href="../TestEm3/">Extended/TestEm3 Example</a></li><li class="is-active"><a class="tocitem" href>Geant4 Solids</a><ul class="internal"><li><a class="tocitem" href="#G4Box"><span>G4Box</span></a></li><li><a class="tocitem" href="#G4Tubs"><span>G4Tubs</span></a></li><li><a class="tocitem" href="#G4CutTubs"><span>G4CutTubs</span></a></li><li><a class="tocitem" href="#G4Cons"><span>G4Cons</span></a></li><li><a class="tocitem" href="#G4Para"><span>G4Para</span></a></li><li><a class="tocitem" href="#G4Trd"><span>G4Trd</span></a></li><li><a class="tocitem" href="#G4Trap"><span>G4Trap</span></a></li><li><a class="tocitem" href="#G4Sphere"><span>G4Sphere</span></a></li><li><a class="tocitem" href="#G4Orb"><span>G4Orb</span></a></li><li><a class="tocitem" href="#G4Torus"><span>G4Torus</span></a></li><li><a class="tocitem" href="#G4Hyper"><span>G4Hyper</span></a></li><li><a class="tocitem" href="#G4Polycone"><span>G4Polycone</span></a></li><li><a class="tocitem" href="#G4GenericPolycone"><span>G4GenericPolycone</span></a></li><li><a class="tocitem" href="#G4Polyhedra"><span>G4Polyhedra</span></a></li><li><a class="tocitem" href="#G4EllipticalTube"><span>G4EllipticalTube</span></a></li><li><a class="tocitem" href="#G4Ellipsoid"><span>G4Ellipsoid</span></a></li><li><a class="tocitem" href="#Boolean-Solids"><span>Boolean Solids</span></a></li><li><a class="tocitem" href="#Twisted-Solids"><span>Twisted Solids</span></a></li><li><a class="tocitem" href="#Tessellated-Solids"><span>Tessellated Solids</span></a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Advanced</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../TPCSim/">Simulation of the Aleph TPC</a></li><li><a class="tocitem" href="../HBC30/">CERN Liquid Hydrogen Bubble Chamber</a></li><li><a class="tocitem" href="../WaterPhantom/">Water Phantom with Scoring</a></li><li><a class="tocitem" href="../UserLib/">Calling Custom C++ library</a></li><li><a class="tocitem" href="../JuliaAction/">Calling G4 actions in Julia</a></li></ul></li></ul></li><li><a class="tocitem" href="../../releases/">Release Notes</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li><a class="is-disabled">Extended</a></li><li class="is-active"><a href>Geant4 Solids</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Geant4 Solids</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaHEP/Geant4.jl/blob/master/docs/src/examples/Solids.lit#L" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Geant4-Solids"><a class="docs-heading-anchor" href="#Geant4-Solids">Geant4 Solids</a><a id="Geant4-Solids-1"></a><a class="docs-heading-anchor-permalink" href="#Geant4-Solids" title="Permalink"></a></h1><p>Notebook/script to exercise all the types of solids defined in Geant4.</p><div class="admonition is-info" id="Note-that-e3bdae33921cd559"><header class="admonition-header">Note that<a class="admonition-anchor" href="#Note-that-e3bdae33921cd559" title="Permalink"></a></header><div class="admonition-body"><p>You can also download this example as a <a href="../Solids.ipynb">Jupyter notebook</a> and a plain <a href="../Solids.jl">Julia source file</a>.</p></div></div><h4 id="Table-of-contents"><a class="docs-heading-anchor" href="#Table-of-contents">Table of contents</a><a id="Table-of-contents-1"></a><a class="docs-heading-anchor-permalink" href="#Table-of-contents" title="Permalink"></a></h4><ul><li><a href="#G4Box">G4Box</a></li><li><a href="#G4Tubs">G4Tubs</a></li><li><a href="#G4CutTubs">G4CutTubs</a></li><li><a href="#G4Cons">G4Cons</a></li><li><a href="#G4Para">G4Para</a></li><li><a href="#G4Trd">G4Trd</a></li><li><a href="#G4Trap">G4Trap</a></li><li><a href="#G4Sphere">G4Sphere</a></li><li><a href="#G4Orb">G4Orb</a></li><li><a href="#G4Torus">G4Torus</a></li><li><a href="#G4Hyper">G4Hyper</a></li><li><a href="#G4Polycone">G4Polycone</a></li><li><a href="#G4GenericPolycone">G4GenericPolycone</a></li><li><a href="#G4Polyhedra">G4Polyhedra</a></li><li><a href="#G4EllipticalTube">G4EllipticalTube</a></li><li><a href="#G4Ellipsoid">G4Ellipsoid</a></li><li><a href="#Boolean-Solids">Boolean Solids</a></li><li class="no-marker"><ul><li><a href="#G4SubtractionSolid">G4SubtractionSolid</a></li><li><a href="#G4IntersectionSolid">G4IntersectionSolid</a></li><li><a href="#G4UnionSolid">G4UnionSolid</a></li></ul></li><li><a href="#Twisted-Solids">Twisted Solids</a></li><li class="no-marker"><ul><li><a href="#G4TwistedBox">G4TwistedBox</a></li><li><a href="#G4TwistedTrap">G4TwistedTrap</a></li><li><a href="#G4TwistedTubs">G4TwistedTubs</a></li><li><a href="#G4TwistedTrd">G4TwistedTrd</a></li></ul></li><li><a href="#Tessellated-Solids">Tessellated Solids</a></li><li class="no-marker"><ul><li><a href="#G4TessellatedSolid">G4TessellatedSolid</a></li></ul></li></ul><pre><code class="language-julia hljs">using Geant4
using Geant4.SystemOfUnits
using CairoMakie  ## to force loading G4Vis extension</code></pre><p>Change the number of steps when drawing curbed surfaces from 24 (default) to 64</p><pre><code class="language-julia hljs">HepPolyhedron!SetNumberOfRotationSteps(64)
</code></pre><h2 id="G4Box"><a class="docs-heading-anchor" href="#G4Box">G4Box</a><a id="G4Box-1"></a><a class="docs-heading-anchor-permalink" href="#G4Box" title="Permalink"></a></h2><pre><code class="language-julia hljs">box = G4Box(&quot;Box&quot;, 2,3,4)
img = draw(box;color=:green)</code></pre><p><img src="../Solids-7.png" alt/></p><h2 id="G4Tubs"><a class="docs-heading-anchor" href="#G4Tubs">G4Tubs</a><a id="G4Tubs-1"></a><a class="docs-heading-anchor-permalink" href="#G4Tubs" title="Permalink"></a></h2><p>Cylindrical Section or Tube</p><ul><li>name::String</li><li>rmin::Float64</li><li>rmax::Float64</li><li>dz::Float64</li><li>ϕ₀::Float64</li><li>Δϕ::Float64</li></ul><pre><code class="language-julia hljs">tub1 = G4Tubs(&quot;tub1&quot;,0,10,10,0,2π)
img = draw(tub1, wireframe=true, color=:blue)</code></pre><p><img src="../Solids-9.png" alt/></p><pre><code class="language-julia hljs">tub2 = G4Tubs(&quot;tub2&quot;,5,10,10,0, 2π/3)
img = draw(tub2, wireframe=true, color=:blue)</code></pre><p><img src="../Solids-10.png" alt/></p><h2 id="G4CutTubs"><a class="docs-heading-anchor" href="#G4CutTubs">G4CutTubs</a><a id="G4CutTubs-1"></a><a class="docs-heading-anchor-permalink" href="#G4CutTubs" title="Permalink"></a></h2><p>Cylindrical Cut Section. A cut in Z can be applied to a cylindrical section to obtain a cut tube.</p><p>Arguments:</p><ul><li>name::String</li><li>rmin::Float64</li><li>rmax::Float64</li><li>dz::Float64</li><li>ϕ₀::Float64</li><li>Δϕ::Float64</li><li>lownormal::G4ThreeVector</li><li>highnormal::G4ThreeVector</li></ul><pre><code class="language-julia hljs">ctub = G4CutTubs(&quot;ctub&quot;, 12, 20, 20, 0, 3π/2, G4ThreeVector(0,-0.7,-0.71), G4ThreeVector(0.7,0,0.71))
img = draw(ctub, wireframe=true, color=:blue)</code></pre><p><img src="../Solids-13.png" alt/></p><h2 id="G4Cons"><a class="docs-heading-anchor" href="#G4Cons">G4Cons</a><a id="G4Cons-1"></a><a class="docs-heading-anchor-permalink" href="#G4Cons" title="Permalink"></a></h2><ul><li>name::String</li><li>rmin1::Float64</li><li>rmax1::Float64</li><li>rmin2::Float64</li><li>rmax2::Float64</li><li>dz::Float64</li><li>ϕ₀::Float64</li><li>Δϕ::Float64</li></ul><pre><code class="language-julia hljs">cone1 = G4Cons(&quot;cone1&quot;, 0, 10, 0, 5, 10, 0, 2π)
img = draw(cone1, color=:blue, wireframe=true)</code></pre><p><img src="../Solids-15.png" alt/></p><pre><code class="language-julia hljs">cone1 = G4Cons(&quot;cone1&quot;, 5, 10, 20, 25, 40, 0, 3π/4)
img = draw(cone1, color=:blue, wireframe=true)</code></pre><p><img src="../Solids-16.png" alt/></p><pre><code class="language-julia hljs">cone1 = G4Cons(&quot;cone1&quot;, 5, 10, 2, 5, 5, 0, π/2)
img = draw(cone1, color=:orange, shading=true)</code></pre><p><img src="../Solids-17.png" alt/></p><h2 id="G4Para"><a class="docs-heading-anchor" href="#G4Para">G4Para</a><a id="G4Para-1"></a><a class="docs-heading-anchor-permalink" href="#G4Para" title="Permalink"></a></h2><p>A parallelepiped is constructed using: | parameter | description | | :–––– | :––––– | | dx,dy,dz | Half-length in x,y,z | | alpha | Angle formed by the Y axis and by the plane joining the centre of the faces parallel to the Z-X plane at -dy and +dy | | theta | Polar angle of the line joining the centres of the faces at -dz and +dz in Z | | phi | Azimuthal angle of the line joining the centres of the faces at -dz and +dz in Z |</p><pre><code class="language-julia hljs">para = G4Para(&quot;para&quot;, 20,30,30, 0, π/4, π/6)
img = draw(para, wireframe=true)</code></pre><p><img src="../Solids-19.png" alt/></p><h2 id="G4Trd"><a class="docs-heading-anchor" href="#G4Trd">G4Trd</a><a id="G4Trd-1"></a><a class="docs-heading-anchor-permalink" href="#G4Trd" title="Permalink"></a></h2><p>A trapezoid is constructed using:</p><ul><li>x1::Float64   XHalfLength1</li><li>x2::Float64   XHalfLength2</li><li>y1::Float64   YHalfLength1</li><li>y2::Float64   YHalfLength2</li><li>z::Float64    ZHalfLength</li></ul><pre><code class="language-julia hljs">trd1 = G4Trd(&quot;trd1&quot;, 10, 5, 10, 5, 5)
img = draw(trd1, wireframe=true, color=:blue)</code></pre><p><img src="../Solids-21.png" alt/></p><h2 id="G4Trap"><a class="docs-heading-anchor" href="#G4Trap">G4Trap</a><a id="G4Trap-1"></a><a class="docs-heading-anchor-permalink" href="#G4Trap" title="Permalink"></a></h2><p>To build a generic trapezoid, the G4Trap class is provided. G4Trap is a solid with six trapezoidal faces, it has two bases parallel to the XY-plane and four lateral faces. The bases are located at the same distance from the XY-plane, but on opposite sides from it. Each of the bases has two edges parallel the X-axis. Let’s call the line joining middle point of these edges - the centre line of the base, and the middle point of this line - the centre of the base. An important property of G4Trap is that the line joining the centres of the bases goes through the origin of the local coordinate system.</p><table><tr><th style="text-align: left">parameter</th><th style="text-align: left">description</th></tr><tr><td style="text-align: left">z</td><td style="text-align: left">Half Z length - distance from the origin to the bases</td></tr><tr><td style="text-align: left">theta</td><td style="text-align: left">Polar angle of the line joining the centres of the bases at -/+z</td></tr><tr><td style="text-align: left">phi</td><td style="text-align: left">Azimuthal angle of the line joining the centre of the base at -pDz to the centre of the base at +z</td></tr><tr><td style="text-align: left">y1, y2</td><td style="text-align: left">Half Y length of the base at -z. +z</td></tr><tr><td style="text-align: left">x1, x2, x3, x4</td><td style="text-align: left">Half X length at smaller, bigger Y of the base at -z, +z</td></tr><tr><td style="text-align: left">alpha1, alpha2</td><td style="text-align: left">Angle between the Y-axis and the centre line of the base at -z. +z</td></tr></table><pre><code class="language-julia hljs">trap = G4Trap(&quot;trap&quot;, 60, 20deg, 5deg, 40, 30, 40, 10deg, 16, 10, 14, 10deg)
img = draw(trap, wireframe=true, color=:green)</code></pre><p><img src="../Solids-23.png" alt/></p><h2 id="G4Sphere"><a class="docs-heading-anchor" href="#G4Sphere">G4Sphere</a><a id="G4Sphere-1"></a><a class="docs-heading-anchor-permalink" href="#G4Sphere" title="Permalink"></a></h2><ul><li>rmin::Float64 inner radius</li><li>rmax::Float64 outer radius</li><li>ϕ₀::Float64 origin phi angle [0,2π]</li><li>Δϕ::Float64 delta phi angle</li><li>θ₀::Float64 origin theta angle [0,π]</li><li>Δθ::Float64 delta theta angle</li></ul><pre><code class="language-julia hljs">sph = G4Sphere(&quot;sphere&quot;, 7,10, 0, pi/2, pi/4, pi/2 )
img = draw(sph, wireframe=true, color=:gray)</code></pre><p><img src="../Solids-25.png" alt/></p><h2 id="G4Orb"><a class="docs-heading-anchor" href="#G4Orb">G4Orb</a><a id="G4Orb-1"></a><a class="docs-heading-anchor-permalink" href="#G4Orb" title="Permalink"></a></h2><p>Complete sphere</p><pre><code class="language-julia hljs">orb = G4Orb(&quot;orb&quot;, 10)
img = draw(orb, wireframe=false, color=:green)</code></pre><p><img src="../Solids-27.png" alt/></p><h2 id="G4Torus"><a class="docs-heading-anchor" href="#G4Torus">G4Torus</a><a id="G4Torus-1"></a><a class="docs-heading-anchor-permalink" href="#G4Torus" title="Permalink"></a></h2><p>A torus is constructed using:</p><table><tr><th style="text-align: left">parameter</th><th style="text-align: left">description</th></tr><tr><td style="text-align: left">rmin</td><td style="text-align: left">Inside radius</td></tr><tr><td style="text-align: left">rmax</td><td style="text-align: left">Outside radius</td></tr><tr><td style="text-align: left">rtor</td><td style="text-align: left">Swept radius of torus</td></tr><tr><td style="text-align: left">ϕ₀</td><td style="text-align: left">Starting phi angle in radians ( ϕ₀+Δϕ &lt;= 2π, ϕ₀ &gt; -2π)</td></tr><tr><td style="text-align: left">Δϕ</td><td style="text-align: left">Delta angle of the segment in radians</td></tr></table><pre><code class="language-julia hljs">torus = G4Torus(&quot;torus&quot;, 40, 60, 200, 0, π/2)
img = draw(torus, wireframe=true, color=:blue)</code></pre><p><img src="../Solids-29.png" alt/></p><pre><code class="language-julia hljs">img = drawDistanceToOut(torus, 100000)</code></pre><p><img src="../Solids-30.png" alt/></p><h2 id="G4Hyper"><a class="docs-heading-anchor" href="#G4Hyper">G4Hyper</a><a id="G4Hyper-1"></a><a class="docs-heading-anchor-permalink" href="#G4Hyper" title="Permalink"></a></h2><p>A hyperboloid is constructed using:</p><table><tr><th style="text-align: left">parameter</th><th style="text-align: left">description</th></tr><tr><td style="text-align: left">rmin</td><td style="text-align: left">Inside radius</td></tr><tr><td style="text-align: left">rmax</td><td style="text-align: left">Outside radius</td></tr><tr><td style="text-align: left">inner, outer</td><td style="text-align: left">Stereo angles in radians</td></tr><tr><td style="text-align: left">rtor</td><td style="text-align: left">Swept radius of torus</td></tr><tr><td style="text-align: left">z</td><td style="text-align: left">Half‑length z</td></tr></table><pre><code class="language-julia hljs">hyper = G4Hype(&quot;Hype&quot;, 5, 10, 0.2, 0.2, 20)
img = draw(hyper, wireframe=true, color=:blue)</code></pre><p><img src="../Solids-32.png" alt/></p><h2 id="G4Polycone"><a class="docs-heading-anchor" href="#G4Polycone">G4Polycone</a><a id="G4Polycone-1"></a><a class="docs-heading-anchor-permalink" href="#G4Polycone" title="Permalink"></a></h2><p>A polycone is constructed using:</p><table><tr><th style="text-align: left">parameter</th><th style="text-align: left">description</th></tr><tr><td style="text-align: left">ϕ₀</td><td style="text-align: left">Starting phi angle in radians ( ϕ₀+Δϕ &lt;= 2π, ϕ₀ &gt; -2π)</td></tr><tr><td style="text-align: left">Δϕ</td><td style="text-align: left">Delta angle of the segment in radians</td></tr><tr><td style="text-align: left">numZPlanes</td><td style="text-align: left">Number of Z planes</td></tr><tr><td style="text-align: left">zPlane</td><td style="text-align: left">Position of Z planes, with Z in increasing order</td></tr><tr><td style="text-align: left">rInner</td><td style="text-align: left">Tangent distance to inner surface</td></tr><tr><td style="text-align: left">rOuter</td><td style="text-align: left">Tangent distance to outer surface</td></tr></table><pre><code class="language-julia hljs">pcon = G4Polycone(&quot;pcone&quot;, π/4, 3π/2, 9,
                  [ 5., 7., 9., 11., 25., 27., 29., 31., 37. ],
                  [ 0., 0., 0., 0., 0., 0., 0., 0., 0. ],
                  [ 0., 10., 10., 5. , 5., 10. , 10. , 2., 2.]
                 )
img = draw(pcon, wireframe=true, color=:blue)</code></pre><p><img src="../Solids-34.png" alt/></p><h2 id="G4GenericPolycone"><a class="docs-heading-anchor" href="#G4GenericPolycone">G4GenericPolycone</a><a id="G4GenericPolycone-1"></a><a class="docs-heading-anchor-permalink" href="#G4GenericPolycone" title="Permalink"></a></h2><p>A genric polycone is constructed using:</p><table><tr><th style="text-align: left">parameter</th><th style="text-align: left">description</th></tr><tr><td style="text-align: left">ϕ₀</td><td style="text-align: left">Starting phi angle in radians ( ϕ₀+Δϕ &lt;= 2π, ϕ₀ &gt; -2π)</td></tr><tr><td style="text-align: left">Δϕ</td><td style="text-align: left">Delta angle of the segment in radians</td></tr><tr><td style="text-align: left">numRZ</td><td style="text-align: left">Number of RZ corners</td></tr><tr><td style="text-align: left">r</td><td style="text-align: left">r coordinate of corners</td></tr><tr><td style="text-align: left">z</td><td style="text-align: left">z coordinate of corners</td></tr></table><pre><code class="language-julia hljs">gpcon = G4GenericPolycone(&quot;pcone&quot;, 0, π, 4,
                         [ 5., 10., 10., 5.,],
                         [ 0., 10., 20., 30.]
                        )
img = draw(gpcon, wireframe=true, color=:blue)</code></pre><p><img src="../Solids-36.png" alt/></p><h2 id="G4Polyhedra"><a class="docs-heading-anchor" href="#G4Polyhedra">G4Polyhedra</a><a id="G4Polyhedra-1"></a><a class="docs-heading-anchor-permalink" href="#G4Polyhedra" title="Permalink"></a></h2><p>A polyhedra is constructed using:</p><table><tr><th style="text-align: left">parameter</th><th style="text-align: left">description</th></tr><tr><td style="text-align: left">ϕ₀</td><td style="text-align: left">Starting phi angle in radians ( ϕ₀+Δϕ &lt;= 2π, ϕ₀ &gt; -2π)</td></tr><tr><td style="text-align: left">Δϕ</td><td style="text-align: left">Delta angle of the segment in radians</td></tr><tr><td style="text-align: left">numZPlanes</td><td style="text-align: left">Number of Z planes</td></tr><tr><td style="text-align: left">numSides ! Number of sides</td><td style="text-align: left"></td></tr><tr><td style="text-align: left">zPlane</td><td style="text-align: left">Position of Z planes, with Z in increasing order</td></tr><tr><td style="text-align: left">rInner</td><td style="text-align: left">Tangent distance to inner surface</td></tr><tr><td style="text-align: left">rOuter</td><td style="text-align: left">Tangent distance to outer surface</td></tr></table><pre><code class="language-julia hljs">pgon = G4Polyhedra(&quot;pgon&quot;, -π/4, 5π/4, 3, 7,
                  [ 0., 5., 8., 13. , 30., 32., 35. ],
                  [ 0., 0., 0., 0., 0., 0., 0. ],
                  [ 0., 15., 15., 4., 4., 10., 10.])
img = draw(pgon, wireframe=true, color=:blue)</code></pre><p><img src="../Solids-38.png" alt/></p><h2 id="G4EllipticalTube"><a class="docs-heading-anchor" href="#G4EllipticalTube">G4EllipticalTube</a><a id="G4EllipticalTube-1"></a><a class="docs-heading-anchor-permalink" href="#G4EllipticalTube" title="Permalink"></a></h2><p>A tube with an elliptical cross section with elliptical semi-major and semi-minor axes along the X and Y cartesian axes.</p><table><tr><th style="text-align: left">parameter</th><th style="text-align: left">description</th></tr><tr><td style="text-align: left">xSemiAxis</td><td style="text-align: left">Half length of axis along X</td></tr><tr><td style="text-align: left">ySemiAxis</td><td style="text-align: left">Half length of axis along Y</td></tr><tr><td style="text-align: left">Dz</td><td style="text-align: left">Half length Z</td></tr></table><pre><code class="language-julia hljs">etub = G4EllipticalTube(&quot;etube&quot;, 5., 10., 20.)
img = draw(etub, wireframe=true, color=:green)</code></pre><p><img src="../Solids-40.png" alt/></p><h2 id="G4Ellipsoid"><a class="docs-heading-anchor" href="#G4Ellipsoid">G4Ellipsoid</a><a id="G4Ellipsoid-1"></a><a class="docs-heading-anchor-permalink" href="#G4Ellipsoid" title="Permalink"></a></h2><p>The general ellipsoid with possible cut in Z</p><table><tr><th style="text-align: left">parameter</th><th style="text-align: left">description</th></tr><tr><td style="text-align: left">xSemiAxis</td><td style="text-align: left">Half length of axis along X</td></tr><tr><td style="text-align: left">ySemiAxis</td><td style="text-align: left">Half length of axis along Y</td></tr><tr><td style="text-align: left">zSemiAxis</td><td style="text-align: left">Semiaxis in Z</td></tr><tr><td style="text-align: left">zBottomCut</td><td style="text-align: left">lower cut plane level, Z</td></tr><tr><td style="text-align: left">zTopCut</td><td style="text-align: left">upper cut plane level, Z</td></tr></table><pre><code class="language-julia hljs">ellip = G4Ellipsoid(&quot;ellip&quot;, 10., 20., 50., -10., 40.)
img = draw(ellip, wireframe=true, color=:green)</code></pre><p><img src="../Solids-42.png" alt/></p><h2 id="Boolean-Solids"><a class="docs-heading-anchor" href="#Boolean-Solids">Boolean Solids</a><a id="Boolean-Solids-1"></a><a class="docs-heading-anchor-permalink" href="#Boolean-Solids" title="Permalink"></a></h2><h3 id="G4SubtractionSolid"><a class="docs-heading-anchor" href="#G4SubtractionSolid">G4SubtractionSolid</a><a id="G4SubtractionSolid-1"></a><a class="docs-heading-anchor-permalink" href="#G4SubtractionSolid" title="Permalink"></a></h3><pre><code class="language-julia hljs">box1 = G4Box(&quot;box1&quot;, 10,10,10)
tub1 = G4Tubs(&quot;tub1&quot;,0,7,11,0,2π)
sub1 = G4SubtractionSolid(&quot;sub1&quot;, CxxPtr(box1), CxxPtr(tub1))
img = draw(sub1, color=:green)</code></pre><p><img src="../Solids-44.png" alt/></p><p>Generate random points and check plot the final position using <code>distanceToOut</code></p><pre><code class="language-julia hljs">img = drawDistanceToOut(sub1, 100000)</code></pre><p><img src="../Solids-46.png" alt/></p><h3 id="G4IntersectionSolid"><a class="docs-heading-anchor" href="#G4IntersectionSolid">G4IntersectionSolid</a><a id="G4IntersectionSolid-1"></a><a class="docs-heading-anchor-permalink" href="#G4IntersectionSolid" title="Permalink"></a></h3><pre><code class="language-julia hljs">box1 = G4Box(&quot;box1&quot;, 10,10,10)
t1 = G4Transform3D(G4RotationMatrix(π/4,0,0), G4ThreeVector())
inter1 = G4IntersectionSolid(&quot;inter1&quot;, CxxPtr(box1), CxxPtr(box1), t1)
img = draw(inter1, color=:green)</code></pre><p><img src="../Solids-48.png" alt/></p><p>Generate random points and check plot the final position using <code>distanceToOut</code></p><pre><code class="language-julia hljs">img = drawDistanceToOut(inter1, 100000)</code></pre><p><img src="../Solids-50.png" alt/></p><h3 id="G4UnionSolid"><a class="docs-heading-anchor" href="#G4UnionSolid">G4UnionSolid</a><a id="G4UnionSolid-1"></a><a class="docs-heading-anchor-permalink" href="#G4UnionSolid" title="Permalink"></a></h3><pre><code class="language-julia hljs">tub1 = G4Tubs(&quot;tub1&quot;,0,5,10,0,2π)
t1 = G4Transform3D(G4RotationMatrix(0,π/2,0), G4ThreeVector())
union1 = G4UnionSolid(&quot;union1&quot;, CxxPtr(tub1), CxxPtr(tub1), t1)
img = draw(union1, color=:green)</code></pre><p><img src="../Solids-52.png" alt/></p><p>Generate random points and check plot the final position using <code>distanceToOut</code></p><pre><code class="language-julia hljs">img = drawDistanceToOut(union1, 100000)</code></pre><p><img src="../Solids-54.png" alt/></p><h2 id="Twisted-Solids"><a class="docs-heading-anchor" href="#Twisted-Solids">Twisted Solids</a><a id="Twisted-Solids-1"></a><a class="docs-heading-anchor-permalink" href="#Twisted-Solids" title="Permalink"></a></h2><h3 id="G4TwistedBox"><a class="docs-heading-anchor" href="#G4TwistedBox">G4TwistedBox</a><a id="G4TwistedBox-1"></a><a class="docs-heading-anchor-permalink" href="#G4TwistedBox" title="Permalink"></a></h3><p>A box twisted along one axis can be defined as follows:</p><table><tr><th style="text-align: left">parameter</th><th style="text-align: left">description</th></tr><tr><td style="text-align: left">twistedangle</td><td style="text-align: left">Twisted angle</td></tr><tr><td style="text-align: left">pDx</td><td style="text-align: left">Half X length</td></tr><tr><td style="text-align: left">pDy</td><td style="text-align: left">Half Y length</td></tr><tr><td style="text-align: left">pDz</td><td style="text-align: left">Half Z length</td></tr></table><pre><code class="language-julia hljs">twb1 =  G4TwistedBox( &quot;twbox&quot;, 30deg, 1m,  1m,  1m)
img = draw(twb1, wireframe=true, color=:orange)</code></pre><p><img src="../Solids-57.png" alt/></p><h3 id="G4TwistedTrap"><a class="docs-heading-anchor" href="#G4TwistedTrap">G4TwistedTrap</a><a id="G4TwistedTrap-1"></a><a class="docs-heading-anchor-permalink" href="#G4TwistedTrap" title="Permalink"></a></h3><p>A twisted trapezoid is constructed using:</p><table><tr><th style="text-align: left">parameter</th><th style="text-align: left">description</th></tr><tr><td style="text-align: left">twistedangle</td><td style="text-align: left">Twisted angle</td></tr><tr><td style="text-align: left">pDx1</td><td style="text-align: left">Half X length at y=-pDy</td></tr><tr><td style="text-align: left">pDx2</td><td style="text-align: left">Half X length at y=+pDy</td></tr><tr><td style="text-align: left">pDy</td><td style="text-align: left">Half Y length</td></tr><tr><td style="text-align: left">pDz</td><td style="text-align: left">Half Z length</td></tr><tr><td style="text-align: left">pTheta</td><td style="text-align: left">Polar angle of the line joining the centres of the faces at -/+pDz</td></tr><tr><td style="text-align: left">pDy1</td><td style="text-align: left">Half Y length at -pDz</td></tr><tr><td style="text-align: left">pDx1</td><td style="text-align: left">Half X length at -pDz, y=-pDy1</td></tr><tr><td style="text-align: left">pDx2</td><td style="text-align: left">Half X length at -pDz, y=+pDy1</td></tr><tr><td style="text-align: left">pDy2</td><td style="text-align: left">Half Y length at +pDz</td></tr><tr><td style="text-align: left">pDx3</td><td style="text-align: left">Half X length at +pDz, y=-pDy2</td></tr><tr><td style="text-align: left">pDx4</td><td style="text-align: left">Half X length at +pDz, y=+pDy2</td></tr><tr><td style="text-align: left">pAlph</td><td style="text-align: left">Angle with respect to the Y axis from the centre of the side</td></tr></table><pre><code class="language-julia hljs">twt1 = G4TwistedTrap(&quot;twt1&quot;, 30deg, 6cm, 20deg, 5deg, 4cm, 3cm, 4cm, 1.6cm, 1cm, 1.4cm, 10deg)
img = draw(twt1, wireframe=true, color=:orange)</code></pre><p><img src="../Solids-60.png" alt/></p><h3 id="G4TwistedTubs"><a class="docs-heading-anchor" href="#G4TwistedTubs">G4TwistedTubs</a><a id="G4TwistedTubs-1"></a><a class="docs-heading-anchor-permalink" href="#G4TwistedTubs" title="Permalink"></a></h3><p>A twisted tube is constructed using:</p><table><tr><th style="text-align: left">parameter</th><th style="text-align: left">description</th></tr><tr><td style="text-align: left">twistedangle</td><td style="text-align: left">Twisted angle</td></tr><tr><td style="text-align: left">rmin</td><td style="text-align: left">Inside radius</td></tr><tr><td style="text-align: left">rmax</td><td style="text-align: left">Outside radius</td></tr><tr><td style="text-align: left">dz</td><td style="text-align: left">Half‑length z</td></tr><tr><td style="text-align: left">dphi</td><td style="text-align: left">Phi angle of a segment</td></tr></table><pre><code class="language-julia hljs">twtub1 = G4TwistedTubs(&quot;twtub1&quot;, 15deg, 1cm, 1.5cm, 2cm, π/2rad)
img = draw(twtub1, wireframe=true, color=:orange)</code></pre><p><img src="../Solids-63.png" alt/></p><h3 id="G4TwistedTrd"><a class="docs-heading-anchor" href="#G4TwistedTrd">G4TwistedTrd</a><a id="G4TwistedTrd-1"></a><a class="docs-heading-anchor-permalink" href="#G4TwistedTrd" title="Permalink"></a></h3><p>A twisted trapezoid is constructed using:</p><table><tr><th style="text-align: left">parameter</th><th style="text-align: left">description</th></tr><tr><td style="text-align: left">pDx1</td><td style="text-align: left">Half X length at -pDz</td></tr><tr><td style="text-align: left">pDx2</td><td style="text-align: left">Half X length at +pDz</td></tr><tr><td style="text-align: left">pDy1</td><td style="text-align: left">Half Y length at -pDz</td></tr><tr><td style="text-align: left">pDy2</td><td style="text-align: left">Half Y length at +pDz</td></tr><tr><td style="text-align: left">pDz</td><td style="text-align: left">Half Z length</td></tr><tr><td style="text-align: left">twistedangle</td><td style="text-align: left">Twisted angle</td></tr></table><pre><code class="language-julia hljs">twtrd1 = G4TwistedTrd(&quot;twtrd1&quot;, 30cm, 10cm, 40cm, 15cm, 60cm, 15deg)
img = draw(twtrd1, wireframe=true, color=:orange)</code></pre><p><img src="../Solids-66.png" alt/></p><h2 id="Tessellated-Solids"><a class="docs-heading-anchor" href="#Tessellated-Solids">Tessellated Solids</a><a id="Tessellated-Solids-1"></a><a class="docs-heading-anchor-permalink" href="#Tessellated-Solids" title="Permalink"></a></h2><h3 id="G4TessellatedSolid"><a class="docs-heading-anchor" href="#G4TessellatedSolid">G4TessellatedSolid</a><a id="G4TessellatedSolid-1"></a><a class="docs-heading-anchor-permalink" href="#G4TessellatedSolid" title="Permalink"></a></h3><p>A tessellated solid is constructed using triangular and quadrangular facets. Here we build a simple pyramid with a square base using 4 triangular faces and one quadrangular face.</p><pre><code class="language-julia hljs">tsol = G4TessellatedSolid(&quot;tsol&quot;)
p0 = G4ThreeVector(0, 0, 0)
p1 = G4ThreeVector(-10, -10, 0)
p2 = G4ThreeVector( 10, -10, 0)
p3 = G4ThreeVector( 10,  10, 0)
p4 = G4ThreeVector(-10,  10, 0)
face1 = G4TriangularFacet(p1, p0, p2, ABSOLUTE)
face2 = G4TriangularFacet(p2, p0, p3, ABSOLUTE)
face3 = G4TriangularFacet(p3, p0, p4, ABSOLUTE)
face4 = G4TriangularFacet(p4, p0, p1, ABSOLUTE)
apex = G4ThreeVector(0,0,30)
face5 = G4TriangularFacet(p1, p2, apex, ABSOLUTE)
face6 = G4TriangularFacet(p2, p3, apex, ABSOLUTE)
face7 = G4TriangularFacet(p3, p4, apex, ABSOLUTE)
face8 = G4TriangularFacet(p4, p1, apex, ABSOLUTE)
AddFacet(tsol, face1)
AddFacet(tsol, face2)
AddFacet(tsol, face3)
AddFacet(tsol, face4)
AddFacet(tsol, face5)
AddFacet(tsol, face6)
AddFacet(tsol, face7)
AddFacet(tsol, face8)
SetSolidClosed(tsol, true)
img = draw(tsol, wireframe=false, color=:orange)</code></pre><p><img src="../Solids-68.png" alt/></p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../TestEm3/">« Extended/TestEm3 Example</a><a class="docs-footer-nextpage" href="../TPCSim/">Simulation of the Aleph TPC »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 16 December 2025 10:16">Tuesday 16 December 2025</span>. Using Julia version 1.12.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
